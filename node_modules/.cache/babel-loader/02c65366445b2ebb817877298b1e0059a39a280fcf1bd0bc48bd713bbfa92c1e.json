{"ast":null,"code":"import React,{useState,useEffect}from'react';import Header from'./components/Header';import Footer from'./components/Footer';import Modal from'./components/Modal';import Task from'./components/Task';import Categories from'./components/Categories';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CATEGORIES=[{id:'1',icon:'home'},{id:'2',icon:'work'},{id:'3',icon:'shopping_cart'}];function App(){const[tasks,setTasks]=useState([]);const[filteredTasks,setFilteredTasks]=useState([]);const[isModalOpen,setIsModalOpen]=useState(false);const[newTaskTitle,setNewTaskTitle]=useState('');const[newTaskCategory,setNewTaskCategory]=useState(CATEGORIES[0].id);const[searchQuery,setSearchQuery]=useState('');useEffect(()=>{const tasksFromLocalStorage=JSON.parse(localStorage.getItem('tasks'));if(tasksFromLocalStorage){setTasks(tasksFromLocalStorage);setFilteredTasks(tasksFromLocalStorage);}},[]);useEffect(()=>{localStorage.setItem('tasks',JSON.stringify(tasks));},[tasks]);useEffect(()=>{const filtered=tasks.filter(task=>task.title.toLowerCase().includes(searchQuery.toLowerCase()));setFilteredTasks(filtered);},[searchQuery,tasks]);const handleAddTask=()=>{const newTask={id:Date.now().toString(),title:newTaskTitle,category:newTaskCategory,isChecked:false};setTasks([...tasks,newTask]);setFilteredTasks([...filteredTasks,newTask]);setIsModalOpen(false);setNewTaskTitle('');};const handleCheckTask=taskId=>{const updatedTasks=tasks.map(task=>{if(task.id===taskId){return{...task,isChecked:!task.isChecked};}return task;});setTasks(updatedTasks);setFilteredTasks(updatedTasks);};const handleMoveTaskUp=taskId=>{const taskIndex=tasks.findIndex(task=>task.id===taskId);if(taskIndex===0){return;}const updatedTasks=[...tasks];const[movedTask]=updatedTasks.splice(taskIndex,1);updatedTasks.splice(taskIndex-1,0,movedTask);setTasks(updatedTasks);setFilteredTasks(updatedTasks);};const handleMoveTaskDown=taskId=>{const taskIndex=tasks.findIndex(task=>task.id===taskId);if(taskIndex===tasks.length-1){return;}const updatedTasks=[...tasks];const[movedTask]=updatedTasks.splice(taskIndex,1);updatedTasks.splice(taskIndex+1,0,movedTask);setTasks(updatedTasks);setFilteredTasks(updatedTasks);};const handleClearTasks=()=>{setTasks([]);setFilteredTasks([]);localStorage.removeItem('tasks');};const handleSearchQueryChange=e=>{setSearchQuery(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{remainingTasks:filteredTasks.filter(task=>!task.isChecked).length,totalTasks:filteredTasks.length}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tasks-list\",children:filteredTasks.map(task=>/*#__PURE__*/_jsx(Task,{task:task,categories:CATEGORIES,onCheck:handleCheckTask,onMoveUp:handleMoveTaskUp,onMoveDown:handleMoveTaskDown},task.id))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-add\",onClick:()=>setIsModalOpen(true),children:\"Ajouter une t\\xE2che\"}),/*#__PURE__*/_jsx(Modal,{isOpen:isModalOpen,onClose:()=>setIsModalOpen(false),onAddTask:handleAddTask,title:\"Ajouter une t\\xE2che\",value:newTaskTitle,onChange:e=>setNewTaskTitle(e.target.value)}),/*#__PURE__*/_jsx(Footer,{onSearchQueryChange:handleSearchQueryChange,onAddTask:()=>setIsModalOpen(true)})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","Modal","Task","Categories","jsx","_jsx","jsxs","_jsxs","CATEGORIES","id","icon","App","tasks","setTasks","filteredTasks","setFilteredTasks","isModalOpen","setIsModalOpen","newTaskTitle","setNewTaskTitle","newTaskCategory","setNewTaskCategory","searchQuery","setSearchQuery","tasksFromLocalStorage","JSON","parse","localStorage","getItem","setItem","stringify","filtered","filter","task","title","toLowerCase","includes","handleAddTask","newTask","Date","now","toString","category","isChecked","handleCheckTask","taskId","updatedTasks","map","handleMoveTaskUp","taskIndex","findIndex","movedTask","splice","handleMoveTaskDown","length","handleClearTasks","removeItem","handleSearchQueryChange","e","target","value","className","children","remainingTasks","totalTasks","categories","onCheck","onMoveUp","onMoveDown","onClick","isOpen","onClose","onAddTask","onChange","onSearchQueryChange"],"sources":["C:/Users/sarah/Documents/React/TODOLISTREACTJS/src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Modal from './components/Modal';\r\nimport Task from './components/Task';\r\nimport Categories from './components/Categories';\r\n\r\nconst CATEGORIES = [\r\n    {\r\n        id: '1',\r\n        icon: 'home',\r\n    },\r\n    {\r\n        id: '2',\r\n        icon: 'work',\r\n    },\r\n    {\r\n        id: '3',\r\n        icon: 'shopping_cart',\r\n    },\r\n];\r\n\r\nfunction App() {\r\n    const [tasks, setTasks] = useState([]);\r\n    const [filteredTasks, setFilteredTasks] = useState([]);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [newTaskTitle, setNewTaskTitle] = useState('');\r\n    const [newTaskCategory, setNewTaskCategory] = useState(CATEGORIES[0].id);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    \r\n    useEffect(() => {\r\n        const tasksFromLocalStorage = JSON.parse(localStorage.getItem('tasks'));\r\n        if (tasksFromLocalStorage) {\r\n            setTasks(tasksFromLocalStorage);\r\n            setFilteredTasks(tasksFromLocalStorage);\r\n        }\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        localStorage.setItem('tasks', JSON.stringify(tasks));\r\n    }, [tasks]);\r\n    \r\n    useEffect(() => {\r\n        const filtered = tasks.filter((task) =>\r\n        task.title.toLowerCase().includes(searchQuery.toLowerCase())\r\n        );\r\n        setFilteredTasks(filtered);\r\n    }, [searchQuery, tasks]);\r\n    \r\n    const handleAddTask = () => {\r\n        const newTask = {\r\n            id: Date.now().toString(),\r\n            title: newTaskTitle,\r\n            category: newTaskCategory,\r\n            isChecked: false,\r\n        };\r\n        setTasks([...tasks, newTask]);\r\n        setFilteredTasks([...filteredTasks, newTask]);\r\n        setIsModalOpen(false);\r\n        setNewTaskTitle('');\r\n    };\r\n    \r\n    const handleCheckTask = (taskId) => {\r\n        const updatedTasks = tasks.map((task) => {\r\n            if (task.id === taskId) {\r\n                return { ...task, isChecked: !task.isChecked };\r\n            }\r\n            return task;\r\n        });\r\n        setTasks(updatedTasks);\r\n        setFilteredTasks(updatedTasks);\r\n    };\r\n    \r\n    const handleMoveTaskUp = (taskId) => {\r\n        const taskIndex = tasks.findIndex((task) => task.id === taskId);\r\n        if (taskIndex === 0) {\r\n            return;\r\n        }\r\n        const updatedTasks = [...tasks];\r\n        const [movedTask] = updatedTasks.splice(taskIndex, 1);\r\n        updatedTasks.splice(taskIndex - 1, 0, movedTask);\r\n        setTasks(updatedTasks);\r\n        setFilteredTasks(updatedTasks);\r\n    };\r\n    \r\n    const handleMoveTaskDown = (taskId) => {\r\n        const taskIndex = tasks.findIndex((task) => task.id === taskId);\r\n        if (taskIndex === tasks.length - 1) {\r\n            return;\r\n        }\r\n        const updatedTasks = [...tasks];\r\n        const [movedTask] = updatedTasks.splice(taskIndex, 1);\r\n        updatedTasks.splice(taskIndex + 1, 0, movedTask);\r\n        setTasks(updatedTasks);\r\n        setFilteredTasks(updatedTasks);\r\n    };\r\n    \r\n    const handleClearTasks = () => {\r\n        setTasks([]);\r\n        setFilteredTasks([]);\r\n        localStorage.removeItem('tasks');\r\n    };\r\n    \r\n    const handleSearchQueryChange = (e) => {\r\n        setSearchQuery(e.target.value);\r\n    };\r\n    \r\n    return (\r\n        <div className=\"App\">\r\n        <Header\r\n        remainingTasks={filteredTasks.filter((task) => !task.isChecked).length}\r\n        totalTasks={filteredTasks.length}\r\n        />\r\n        <main className=\"main-container\">\r\n        <div className=\"tasks-list\">\r\n        {filteredTasks.map((task) => (\r\n            <Task\r\n            key={task.id}\r\n            task={task}\r\n            categories={CATEGORIES}\r\n            onCheck={handleCheckTask}\r\n            onMoveUp={handleMoveTaskUp}\r\n            onMoveDown={handleMoveTaskDown}\r\n            />\r\n            ))}\r\n            </div>\r\n            <button className=\"btn btn-add\" onClick={() => setIsModalOpen(true)}>\r\n            Ajouter une tâche\r\n            </button>\r\n            <Modal\r\n            isOpen={isModalOpen}\r\n            onClose={() => setIsModalOpen(false)}\r\n            onAddTask={handleAddTask}\r\n            title=\"Ajouter une tâche\"\r\n            value={newTaskTitle}\r\n            onChange={(e) => setNewTaskTitle(e.target.value)}\r\n            />\r\n            <Footer\r\n            onSearchQueryChange={handleSearchQueryChange}\r\n            onAddTask={() => setIsModalOpen(true)}\r\n            />\r\n            </main>\r\n            </div>\r\n            );\r\n        }\r\n        \r\n        export default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}